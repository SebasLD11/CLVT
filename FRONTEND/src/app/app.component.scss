/* =========================
   Variables & base
   ========================= */
:root{
  --nav-h: 64px;
  --container: clamp(320px, 92vw, 1120px);
  --radius: 20px;

  /* capas */
  --z-nav: 100;
  --z-overlay: 10010;  /* backdrop filtros */
  --z-modal: 10020;   /* modal producto */
  --z-drawer: 10030;  /* carrito */
  --z-filters: 10040; /* sheet filtros m√≥vil */
  --z-entry: 10050; /* ‚úÖ NUEVO: por encima de todo */
}

:host{
  display:block;
  min-height:100vh;
  background: linear-gradient(135deg,#fff,#eee,#e5e7eb);
  color:#111;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden; /* sin scroll lateral */
}

:host.dark{
  background: linear-gradient(135deg,#0b0b0b,#0f0f10,#0a0a0a);
  color:#fafafa;
}

/* Util */
.container{
  width: min(100%, var(--container));
  margin: 0 auto;
  padding: 0 16px;
}

/* =========================
   TOP NAV
   ========================= */
.topnav{
  position: sticky;
  top: 0;
  z-index: var(--z-nav);
  backdrop-filter: blur(8px);
  background: rgba(255,255,255,.9);
  border-bottom:1px solid #e5e7eb;
  min-height: var(--nav-h);
}

:host.dark .topnav{
  background: rgba(0,0,0,.55);
  border-color:#222;
}

.nav-bar{
  min-height: var(--nav-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 5px;
  flex-wrap: nowrap;
}

.brand{
  display:flex; align-items:center; gap:10px; font-weight:800;
  min-width: 0; /* permite elipsis del texto */
}

.logo-img{
  width:36px; height:36px;
  display:block;
  object-fit: cover;
  aspect-ratio: 1 / 1; /* asegura c√≠rculo perfecto */
  border-radius: 50%;   /* <- redondo */
  image-rendering: -webkit-optimize-contrast;
}

.brand-text{
  letter-spacing: .06em;
  font-weight: 900;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: clamp(14px, 2.8vw, 18px);
  max-width: 40vw; /* no empuja los botones en m√≥vil */
}

.actions{
  display:flex; align-items:center; gap:8px;
  flex: 0 0 auto;  /* <- no intentes encogerte cortando contenido */
  min-width: 0;
}
.actions button{
  padding:6px 10px;
  border-radius:12px;
  border:1px solid transparent;
  background:transparent;
  color:inherit; font-weight:600; cursor:pointer;
  font-size: clamp(12px, 3.4vw, 16px);
}
.actions button.active{ background:#facc15; color:#000; }
.actions .theme{ background:#e5e7eb; }
:host.dark .actions .theme{ background:#1f2937; }
.actions .cart{ position:relative; background:rgba(250,204,21,.15); }
.badge{
  position:absolute;
  top: 4px; right: 4px;          /* dentro del bot√≥n */
  transform: translate(50%, -50%); /* ‚Äúflotada‚Äù a la esquina sin sobresalir */
  font-size:10px; line-height:1;
  background:#facc15; color:#000;
  border-radius:999px; padding:2px 6px; font-weight:800;
  pointer-events: none; /* no captura taps */
}

/* =========================
   ENTRY BANNER (full-screen)
   ========================= */
/* ENTRY BANNER (overlay, desktop/base) */
.entry-banner{
  position: fixed;
  inset: 0;
  z-index: 2147483646 !important;
  min-height: 100vh;
  min-height: 100dvh;
  display: grid;
}

/* la imagen vive en el HTML (<img class="entry-bg">) */
.entry-bg{
  position: absolute; inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;      /* NO recorta */
  object-position: center;
  background: #fff;         /* detr√°s del PNG */
  filter: none;             /* blanco puro */
  z-index: 0;
}

/* CTA pegado abajo */
.entry-banner .inner{
  position: absolute; left: 0; right: 0;
  bottom: clamp(24px, 6vh, 72px);
  display: flex; justify-content: center;
  /* IMPORTANTE: el bot√≥n debe poder recibir clicks */
  pointer-events: auto;
}

.entry-banner .entry-cta{
  padding: 12px 18px;
  border: 0; border-radius: 14px;
  background: #facc15; color:#000; font-weight: 900;
  box-shadow: 0 8px 30px rgba(0,0,0,.25);
  transition: transform .1s ease, box-shadow .15s ease;
}
.entry-banner .entry-cta:hover{ transform: translateY(-1px); }
.entry-banner .entry-cta:active{ transform: translateY(0); }

/* sin velo oscuro */
.entry-banner::before{ content: none; }

/* ancla para evitar que la topnav tape el inicio de la tienda */
#shopTop{ scroll-margin-top: calc(var(--nav-h) + 8px); }

/* =========================
   SHOP: header + layout
   ========================= */
.shop .shop-header{
  display:flex; align-items:flex-end; justify-content:space-between; gap:10px;
  margin-top: 12px;
}
.shop .shop-header h2{ margin:0; font-size: clamp(24px, 3vw, 32px); font-weight:900; }

.right-actions{ display:flex; align-items:center; gap:12px; }
.tags{ display:flex; gap:8px; flex-wrap:wrap; }
.tags span{
  padding:6px 10px; border-radius:12px; background:rgba(250,204,21,.2); color:#a16207; font-size:12px;
}

.shop .filters-toggle{
  display:none; /* visible en m√≥vil */
  padding:8px 12px; border:none; border-radius:12px; cursor:pointer;
  background:#e5e7eb; color:inherit; font-weight:600;
}
:host.dark .shop .filters-toggle{ background:#1f2937; }

.shop-layout{
  display:grid;
  grid-template-columns: 300px 1fr;
  gap:20px;
  margin-top: 16px;
}
.shop { position: relative; }
/* =========================
   ASIDE filtros
   ========================= */
.filters{
  position: sticky;
  top: calc(var(--nav-h) + 12px);
  height: fit-content;
  background: rgba(255,255,255,.92);
  border-radius: var(--radius);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  padding: 14px;
}

:host.dark .filters{ background: rgba(24,24,27,.92); }

.filters-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
}
.filters-head h3{ margin:0; font-size:16px; }
.filters-close{
  display:none; /* solo m√≥vil */
  width:32px; height:32px; border:none; border-radius:999px; cursor:pointer;
  background:rgba(0,0,0,.06); color:inherit;
}
:host.dark .filters-close{ background:rgba(255,255,255,.08); }

.filters-group{
  display:flex; flex-direction:column; gap:8px; margin:12px 0;
}
.filters-group label{ font-weight:700; font-size:12px; opacity:.8; }
.filters-group input[type="search"],
.filters-group input[type="number"]{
  width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.08);
  background:transparent; color:inherit;
}

.price-row{ display:flex; align-items:center; gap:8px; }
.price-row input{ width:100%; }

.chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chip{
  padding:6px 10px; border-radius:999px; border:1px solid rgba(0,0,0,.1);
  background:transparent; color:inherit; cursor:pointer; font-size:12px;
}
.chip.active{ background:#facc15; color:#000; border-color:#facc15; }

.filters-actions{ display:flex; gap:8px; margin-top:4px; }
.filters-actions .clear{
  padding:8px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.1);
  background:transparent; color:inherit; cursor:pointer;
}
.filters-actions .apply{
  padding:8px 12px; border-radius:12px; border:none; background:#facc15; color:#000; font-weight:800; cursor:pointer;
}

/* Backdrop de filtros: Angular lo a√±ade/quita con *ngIf */
.filters-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  z-index: var(--z-overlay);
}


/* =========================
   CAT√ÅLOGO (centrado)
   ========================= */
.catalog{ width:100%; position: relative; }
.catalog .grid{
  display:grid; gap:24px;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  max-width: 1100px;
  margin: 0 auto;
  position: relative;          /* sin z-index */
  border-radius: 8px;
}
/* El grid del cat√°logo ocupa toda su columna y no se centra */
.shop-layout .catalog .grid{
  width: 100%;
  max-width: none;
  margin: 0;          /* sobrescribe el 0 auto */
  /* opcional: algo menos de separaci√≥n general */
  gap: 20px;
}

/* Tarjetas */
.card{
  background:rgba(255,255,255,.85);
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
:host.dark .card{ background:rgba(24,24,27,.92); }

/* Media */
.media{
  position:relative; aspect-ratio:4/5; overflow:hidden; cursor:pointer;
  background: #0b0b0b;
  border-radius: inherit;
}

.media img{ width:100%; height:100%; object-fit:cover; display:block; }
.media .thumbs{
  position:absolute; left:8px; right:8px; bottom:8px; display:flex; gap:6px; overflow-x:auto;
}
.media .thumbs img{
  width:40px; height:40px; object-fit:cover; border-radius:6px; outline:2px solid rgba(255,255,255,.6);
}
:host.dark .media .thumbs img{ outline-color: rgba(0,0,0,.6); }

/* Info */
.info{ display:flex; align-items:center; justify-content:space-between; padding:12px; gap:10px; }
.info h3{ margin:0 0 2px; font-size:15px; line-height:1.2; }
.info .price{ opacity:.85; font-size:14px; margin:0; }
.info .tag{ padding:4px 8px; background:#facc15; color:#000; border-radius:999px; font-size:12px; font-weight:800; }
.info .add{
  padding:6px 10px; border-radius:10px; border:none; background:rgba(250,204,21,.2); color:inherit; cursor:pointer;
}

/* =========================
   ABOUT (desktop-first)
   ========================= */
.about{
  display: grid;
  gap: 20px;
  padding: 24px 0;
  isolation: isolate;            /* evita solapes con la imagen */
}

.about .about-hero{
  /* anula la base gen√©rica del .hero y lo compacta */
  min-height: auto;
  padding: 12px 0 8px;
  display: grid;
  place-items: center;
  text-align: center;
}
.about .about-hero h1{
  margin: 0;
  font-size: clamp(22px, 3.2vw, 42px);
  font-weight: 800;
  line-height: 1.15;
}
.about .about-hero p{
  margin: 6px auto 0;
  max-width: 820px;
  font-size: clamp(15px, 1.2vw, 18px);
  line-height: 1.5;
  opacity: .9;
}

.about-header{
  display: grid;
  gap: 12px;
  text-align: center;
}
.about-header h2{
  margin: 0;
  font-size: clamp(22px, 3vw, 32px);
  font-weight: 900;
}
.about-header p{
  margin: 0 auto;
  max-width: 820px;
  font-size: clamp(15px, 1.15vw, 18px);
  line-height: 1.5;
  opacity: .9;
}

/* Cuerpo: 2 columnas en desktop */
.about-grid{
  display: grid;
  gap: 20px;
  align-items: start;
  grid-template-columns: clamp(320px, 36vw, 520px) minmax(0, 1fr);
}

.about-media{
  margin: 0;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  align-self: start;
  justify-self: start;
  position: relative;
  z-index: 0;
}
.about-media img{
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;   /* la tuya es vertical, queda bien */
  pointer-events: none;
}

.about-content{
  display: grid;
  gap: 20px;
  position: relative;
  z-index: 1;          /* por encima de la imagen -> fixes en taps */
}

/* Contacto */
.contact h3, .faq h3{
  margin: 0 0 4px 0;
  font-size: 18px;
  font-weight: 800;
}
.contact-list{
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 12px;
  grid-template-columns: 1fr 1fr; /* dos cards en desktop */
}
.contact-card{
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  border-radius: 12px;
  text-decoration: none;
  color: inherit;
  background: rgba(0,0,0,.05);
  border: 1px solid rgba(0,0,0,.06);
  transition: transform .12s ease, background .12s ease;
}
.contact-card:hover{ transform: translateY(-1px); background: rgba(0,0,0,.06); }
:host.dark .contact-card{ background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.08); }
.icon{ width: 24px; height: 24px; display: block; }

/* FAQ */
.faq{
  display: grid; gap: 10px;
}
.faq details{
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  padding: 10px 12px;
  background: rgba(0,0,0,.03);
}
:host.dark .faq details{
  border-color: rgba(255,255,255,.08);
  background: rgba(255,255,255,.04);
}
.faq summary{
  font-weight: 700;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}
.faq summary::-webkit-details-marker{ display: none; }
.faq p{ margin: 8px 0 0 0; line-height: 1.5; }
.faq summary::after{ content: "‚ñæ"; transform: rotate(0deg); transition: transform .15s ease; }
.faq details[open] summary::after{ transform: rotate(180deg); }


/* =========================
   MODAL producto
   ========================= */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.6); z-index: var(--z-modal); }
.modal{
  position:fixed; inset:0;
  display:grid; place-items:center;
  /* Usamos un gutter variable y respetamos las safe-areas del dispositivo */
  --gutter: clamp(12px, 4vw, 16px);
  padding: env(safe-area-inset-top)
    calc(env(safe-area-inset-right) + var(--gutter))
    env(safe-area-inset-bottom)
    calc(env(safe-area-inset-left) + var(--gutter));
  justify-items:center; 
  align-items:center;    /* üí° explicitamos centrado (fallback m√≥viles) */
}
.modal-body{
  background:var(--bg,#fff); color:inherit;
  /* üëá El ancho real del viewport din√°mico MENOS el padding lateral del contenedor */
  width: min(960px, calc(100dvw - (var(--gutter) * 2)));
  max-height: 100dvh;         /* ocupa toda la altura disponible */
  border-radius:16px;
  overflow:hidden;

  /* Layout vertical estable */
  display:grid;
  grid-template-rows: 1fr auto auto;  /* visor | thumbs | meta */
  position: relative;
  margin-inline: auto;     /* üí° asegura centrado horizontal en todos los motores */
  box-sizing: border-box;  /* si en el futuro a√±ades padding aqu√≠, no descuadra */
}
:host.dark .modal-body{ --bg:#0b0b0b; }
.close-btn{
  position:absolute; top:10px; right:10px; z-index:2;
  width:36px; height:36px; border:none; border-radius:999px; cursor:pointer;
  background:rgba(0,0,0,.08); color:inherit;
}
:host.dark .close-btn{ background:rgba(255,255,255,.1); }

.viewer{
  position:relative;
  background:#000;
  min-height: 45dvh;   /* m√≥vil: imagen protagonista */
  height:100%;         /* llena la fila 1fr */
  overflow:hidden;
}
.viewer img{
  width:100%; height:100%;
  object-fit:contain; object-position:center;
  display:block;
}

.nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:40px; height:40px; border-radius:999px; background:rgba(0,0,0,.6);
  color:#fff; border:none; cursor:pointer; display:grid; place-items:center;
}
.prev{ left:12px; }
.next{ right:12px; }

.thumbs-lg{
  display:flex; gap:8px; padding:12px;
  border-bottom:1px solid rgba(0,0,0,.06);
  overflow-x:auto;
}
:host.dark .thumbs-lg{ border-color: rgba(255,255,255,.08); }

.thumbs-lg button{ border:none; padding:0; border-radius:10px; outline:2px solid transparent; }
.thumbs-lg button.active{ outline-color:#facc15; }
.thumbs-lg img{ width:96px; height:64px; object-fit:cover; display:block; border-radius:10px; }

.meta{ padding:16px; overflow:auto; }
.meta .row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.meta .price{ font-weight:800; color:#f59e0b; }
.meta .sizes{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 8px 10px;
  margin: 10px 0 12px;
}
.meta .sizes .lbl{
  font-weight: 700;
  font-size: 12px;
  opacity: .8;
  white-space: nowrap;
}

.meta .sizes-row{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.meta .sizes-row button{
  min-width: 40px;
  min-height: 34px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,.12);
  background: transparent;
  color: inherit;
  font-weight: 800;
  letter-spacing: .02em;
  text-transform: uppercase;
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, box-shadow .12s ease, transform .06s ease;
  user-select: none;
}
.meta .sizes-row button:hover{ background: rgba(0,0,0,.05); }
.meta .sizes-row button:active{ transform: translateY(1px); }

/* Estado seleccionado (por clase o por aria-pressed) */
.meta .sizes-row button.active,
.meta .sizes-row button[aria-pressed="true"]{
  background: #facc15;
  color: #000;
  border-color: #facc15;
  box-shadow: 0 0 0 2px rgba(250,204,21,.25);
}

/* Accesibilidad: foco visible */
.meta .sizes-row button:focus-visible{
  outline: 2px solid #facc15;
  outline-offset: 2px;
}

/* =========================
+   SELECTOR DE COLOR (modal)
+   ========================= */
.meta .colors{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 8px 10px;
  margin: 10px 0 12px;
}
.meta .colors .lbl{
  font-weight: 700;
  font-size: 12px;
  opacity: .8;
  white-space: nowrap;
}
.meta .colors-row{
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.meta .colors-row button{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  min-height: 34px;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,.12);
  background: transparent;
  color: inherit;
  font-weight: 800;
  letter-spacing: .02em;
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, box-shadow .12s ease, transform .06s ease;
  user-select: none;
}
.meta .colors-row button:hover{ background: rgba(0,0,0,.05); }
.meta .colors-row button:active{ transform: translateY(1px); }
.meta .colors-row button:focus-visible{
  outline: 2px solid #facc15;
  outline-offset: 2px;
}
.meta .colors-row button.active,
.meta .colors-row button[aria-pressed="true"]{
  background: #facc15;
  color: #000;
  border-color: #facc15;
  box-shadow: 0 0 0 2px rgba(250,204,21,.25);
}
/* pastilla de color cuando el valor es HEX (se pinta en l√≠nea en el HTML) */
.meta .colors-row .swatch{
  width: 16px; height: 16px; border-radius: 999px; display: inline-block;
  border: 1px solid rgba(0,0,0,.2); /* se sobrescribe en dark */
  flex: 0 0 16px;
}
.meta .colors-row .txt{
  font-size: 12px; font-weight: 800; letter-spacing: .02em;
}
:host.dark .meta .colors-row button{
  border-color: rgba(255,255,255,.12);
  background: rgba(255,255,255,.02);
}
:host.dark .meta .colors-row button:hover{ background: rgba(255,255,255,.08); }
:host.dark .meta .colors-row .swatch{ border-color: rgba(255,255,255,.25); }

/* Tema oscuro */
:host.dark .meta .sizes-row button{
  border-color: rgba(255,255,255,.12);
  background: rgba(255,255,255,.02);
}
:host.dark .meta .sizes-row button:hover{
  background: rgba(255,255,255,.08);
}

/* CTA coherente con deshabilitado cuando no hay talla seleccionada */
.meta .cta{
  margin-top: 8px; padding:10px 14px; border-radius:12px; border:none; background:#facc15; color:#000; font-weight:800; cursor:pointer;
}
.meta .cta[disabled]{
  pointer-events: none;
  filter: saturate(.7);
}

/* =========================
   DRAWER carrito
   ========================= */
.drawer{
position: fixed;
  right: 0; top: 0;
  width: min(100vw, 360px);     /* adapta en m√≥vil estrecho */
  height: 100dvh;
  background: var(--bg2,#fff);
  box-shadow: -12px 0 30px rgba(0,0,0,.2);
  z-index: var(--z-drawer);
  display:flex; flex-direction:column;

  /* reemplaza right:-340px -> translateX(100%) */
  transform: translateX(100%);
  transition: transform .25s ease;

  /* un poco de cari√±o para notch / iOS */
  padding-bottom: env(safe-area-inset-bottom);
}
:host.dark .drawer{ --bg2:#0b0b0b; }
.drawer.open{ transform: translateX(0); }
.drawer header, .drawer footer{ padding:12px; border-bottom:1px solid rgba(0,0,0,.06); }
.drawer footer{ border-bottom:none; border-top:1px solid rgba(0,0,0,.06); }
:host.dark .drawer header,
:host.dark .drawer footer{ border-color: rgba(255,255,255,.08); }

.drawer .content{ padding:12px; overflow:auto; gap:8px; display:flex; flex-direction:column; }
.drawer .item{ display:flex; gap:10px; }
.drawer .item img{ width:64px; height:64px; object-fit:cover; border-radius:8px; }
.drawer .name{ font-weight:600; }
.muted{ opacity:.7; }
.qty{ display:flex; align-items:center; gap:8px; }
.row{ display:flex; align-items:center; justify-content:space-between; }
.row.gap{ gap:10px; }
button[disabled]{ opacity:.5; cursor:not-allowed; }

/* Cantidad: usa estilo ‚Äúchip‚Äù */
.drawer .qty{
  display:flex; align-items:center; gap:8px;
}
.drawer .qty .chip{
  padding:6px 10px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.1);
  background:transparent;
  color:inherit; cursor:pointer; font-weight:800;
  min-width: 40px; min-height: 34px;
  transition: background .12s ease, border-color .12s ease, transform .06s ease;
}
:host.dark .drawer .qty .chip{ border-color: rgba(255,255,255,.12); background: rgba(255,255,255,.02); }
.drawer .qty .chip:hover{ background: rgba(0,0,0,.05); }
:host.dark .drawer .qty .chip:hover{ background: rgba(255,255,255,.08); }
.drawer .qty .chip:active{ transform: translateY(1px); }
.drawer .qty .qty-num{ min-width:28px; text-align:center; font-weight:900; }

/* Bot√≥n ‚ÄúEliminar‚Äù versi√≥n peque√±a */
.drawer .qty .clear.sm{
  padding:6px 10px; border-radius:12px; border:1px solid rgba(0,0,0,.1);
  background:transparent; color:inherit; cursor:pointer; font-weight:700;
}
:host.dark .drawer .qty .clear.sm{ border-color: rgba(255,255,255,.12); }

/* Footer: mismos estilos de filtros */
.drawer footer .clear{
  padding:8px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.1);
  background:transparent; color:inherit; cursor:pointer; font-weight:700;
}
:host.dark .drawer footer .clear{ border-color: rgba(255,255,255,.12); }

.drawer footer .apply{
  padding:8px 12px; border-radius:12px; border:none;
  background:#facc15; color:#000; font-weight:800; cursor:pointer;
}
.drawer footer .apply[disabled]{ opacity:.6; cursor:not-allowed; }

/* =========================
   COLECCIONES (toggle por t√≠tulo)
   ========================= */
.collection{ margin: 14px 0 24px; }
.collection + .collection{ margin-top: 24px; }

.collection-head{
  margin: 0 0 8px 0;
  font-size: clamp(16px, 2.2vw, 28px);
  font-weight: 900;
}

.collection-title{
  display: flex; align-items: center; justify-content: space-between;
  width: 100%;
  text-align: left;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.08);
  background: rgba(0,0,0,.04);
  color: inherit; font-weight: 900; letter-spacing: .01em;
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, transform .06s ease;
}
.collection-title:hover{ background: rgba(0,0,0,.06); }
.collection-title:active{ transform: translateY(1px); }
.collection-title small{ font-weight: 700; opacity: .7; font-size: 12px; margin-left: 8px; }

:host.dark .collection-title{
  border-color: rgba(255,255,255,.1);
  background: rgba(255,255,255,.04);
}
:host.dark .collection-title:hover{ background: rgba(255,255,255,.06); }

/* Indicador visual (chevron) seg√∫n aria-expanded */
.collection-title::after{
  content: "‚ñæ";
  margin-left: 8px;
  transition: transform .15s ease;
}
.collection-title[aria-expanded="false"]::after{ transform: rotate(-90deg); }

/* Separaci√≥n del grid cuando est√° abierto */
.collection .grid{ margin-top: 8px; }

/* =========================
   Responsive
   ========================= */
@media (max-width: 1200px){
  .catalog .grid{ max-width: 1000px; }
}

@media (max-width: 1024px){
  .shop-layout{ grid-template-columns: 260px 1fr; gap: 16px; }
   /* Opcional: a√∫n m√°s recogido en altura total */
   /* Quita altura forzada y reduce padding vertical */
  /* Reduce el hueco entre hero y ‚ÄúTienda‚Äù */
  .shop > .shop-header{
    margin-top: 8px;                       /* ‚Üì de 12px */
  }

  .about-grid{
    grid-template-columns: 1fr;  /* apilar en tablet/m√≥vil grande */
    gap: 20px;
  }
  .about-media{
    justify-self: center;         /* centramos la foto cuando hay 1 columna */
    /* ‚ùå NO pongas grid-column aqu√≠ (nada de 1 / -1) */
  }
  .contact-list{
    grid-template-columns: 1fr;   /* cards a una columna */
  }
}

@media (max-width: 768px){ 
  @supports (height: 100svh){
    .entry-banner{ min-height: calc(100svh - var(--nav-h)); }
  }
  .entry-banner{
    /* ‚Äúzoom‚Äù: ampliamos el ancho al 170% del contenedor */
    --bg-zoom: 170% auto;       /* ancho 170%, alto auto */
    --bg-pos-y: 45%;            /* baja un poco el encuadre */
  }
  /* usa la ALTURA del viewport para ‚Äúllenar‚Äù m√°s */
  .entry-bg{
    width: auto;
    height: 100dvh;         /* llena la altura visible */
    max-width: 100vw;
    object-fit: cover;     /* mantiene SIN recortes */
    object-position: center;
  }
  @supports (height: 100svh){
    .entry-bg{ height: 100svh; }  /* iOS/Android barra oculta */
  }

  .entry-banner .inner{
    bottom: clamp(16px, 8vh, 48px);  /* CTA un poco m√°s arriba para no pisar bordes */
  }

  .entry-banner .entry-cta{
    padding: 12px 16px;
  }
  /* 1) Quita la columna fantasma: una sola columna en m√≥vil */
  .shop-layout{
    grid-template-columns: 1fr;
  }

  /* 2) Asegura que el cat√°logo ocupa toda la rejilla */
  .shop-layout .catalog{
    grid-column: 1 / -1;
  }

  /* 3) Restaura el centrado del grid dentro del contenedor */
  .shop-layout .catalog .grid{
    margin: 0 auto;     /* ‚Üê vuelve a centrar el grid */
    max-width: 100%;    /* o pon un clamp si quieres limitar el ancho */
    /* gap ya lo fijas a 20px arriba; mantenlo si te gusta */
  }
  /* 1) Mostrar el bot√≥n en m√≥vil */
  .shop .filters-toggle{
    display: inline-flex;          /* antes estaba en display:none */
    align-items: center;
    justify-content: center;
  }

  /* 2) Evitar que las tags se ‚Äúcoman‚Äù el espacio del bot√≥n */
  .right-actions{
    flex-wrap: wrap;               /* permite que el bot√≥n salte de l√≠nea si hace falta */
    gap: 10px;
  }

  /* Opci√≥n A (recomendada): ocultar tags en m√≥vil para dar aire */
  .tags{ display: none; }

  /* Hoja lateral fija, aislada y por encima del cat√°logo */
  .filters{
    position: fixed;
    inset: 0 auto 0 0;                  /* top:0; left:0; bottom:0 */
    width: min(92vw, 380px);
    height: 100dvh; max-height: 100dvh;
    box-sizing: border-box;

    background: rgba(255,255,255,.98);
    color: inherit;
    border-radius: 0 var(--radius) var(--radius) 0;
    box-shadow: 0 20px 50px rgba(0,0,0,.35);

    /* Blindaje de stacking (clave) */
    z-index: 2147483647 !important;
    isolation: isolate;
    contain: paint;
    backface-visibility: hidden;

    /* Off-canvas en GPU */
    transform: translate3d(-100%,0,0);
    transition: transform .25s ease;
    will-change: transform;

    overflow-y: auto;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;

    padding:
      calc(max(12px, env(safe-area-inset-top)) + 4px)
      16px
      calc(max(12px, env(safe-area-inset-bottom)))
      16px;
  }
  :host.dark .filters{ background: rgba(24,24,27,.98); }

  .filters.open{ transform: translate3d(0,0,0); }

  /* Header pegajoso para que el ‚úï siempre est√© visible */
  .filters-head{
    position: sticky; top: 0;
    background: inherit;
    margin: -4px -16px 8px -16px;
    padding: 8px 16px 10px 16px;
    border-bottom: 1px solid rgba(0,0,0,.06);
    z-index: 1;
  }
  :host.dark .filters-head{ border-color: rgba(255,255,255,.08); }

  .filters-close{
    display: inline-grid; place-items: center;
    width: 36px; height: 36px; border: none; border-radius: 999px;
    background: rgba(0,0,0,.06); color: inherit; cursor: pointer;
  }
  :host.dark .filters-close{ background: rgba(255,255,255,.08); }

  .modal-body{
    /* Mantenemos el mismo modelo de c√°lculo que arriba */
    width: min(960px, calc(100dvw - (var(--gutter) * 2)));
    max-height: calc(100dvh - 8px);
    border-radius: 12px;
  }
  /* El visor centra la imagen sin forzar alturas absolutas */
  .viewer{ 
    display: flex; align-items: center; justify-content: center;
    min-height: 55dvh;   /* ya lo ten√≠as */
    height: 100%;
  }
  .viewer img{
    max-width: 100%;
    max-height: 100%;
    width: auto; height: auto;   /* evita que la imagen invada meta/thumbs */
    object-fit: contain;
  }
  :host.dark .modal-body{ --bg:#0b0b0b; }
  .catalog, .catalog .grid, .card, .media, .media img {
    z-index: auto !important;    /* neutraliza z-index accidentales en m√≥vil */
  }

  .about{
    padding: 16px 0 24px;          /* un poco m√°s compacto */
    isolation: isolate;
  }
  .about .hero--welcome{
    padding: 10px 0 6px;
  }
  .about .hero--welcome p{
    font-size: clamp(14px, 3.2vw, 16px);
    max-width: 640px;
  }
  .about-content{ position: relative; z-index: 1; }
  .about-media{ position: relative; z-index: 0; }
  .about-grid{
    gap: 20px;                     /* mantenemos el salto de 20px */
    grid-template-columns: 1fr;    /* 1 columna (ya es el default, lo explicitamos) */
  }
  .about-text{
    gap: 20px;                     /* h2 ‚Üî p = 20px */
    text-align: center;
  }
  .about h2{
    font-size: clamp(22px, 4.2vw, 28px);
  }
  .about-header p{
    font-size: 16px;
    max-width: 680px;
  }
  .contact-list{
    grid-template-columns: 1fr; /* una columna en m√≥vil */
  }
  .icon{ width: 22px; height: 22px; }
  .about-media img{ max-width: 500px; }

  .meta .sizes{
    grid-template-columns: 1fr;  /* etiqueta arriba, botones abajo */
    gap: 6px;
  }
  .meta .sizes .lbl{
    font-size: 12px;
    opacity: .9;
  }
  .meta .sizes-row button{
    min-height: 38px;      /* mejor √°rea t√°ctil */
    min-width: 44px;       /* m√≠nimo recomendado de tap */
    padding: 10px 12px;
  }
  /* Colores: mismas reglas responsive que tallas */
  .meta .colors{
    grid-template-columns: 1fr;
    gap: 6px;
  }
  .meta .colors .lbl{
    font-size: 12px;
    opacity: .9;
  }
  .meta .colors-row button{
    min-height: 38px;
    padding: 10px 12px;
  }

  .collection{ margin: 12px 0 20px; }

  .collection-title{
    min-height: 44px;                 /* √°rea t√°ctil recomendada */
    padding: 10px 12px;               /* un poco m√°s de aire */
    font-size: 16px;                  /* legible en m√≥vil */
    display: flex; align-items: center;
    justify-content: flex-start;      /* texto + contador juntos */
    gap: 8px;                         /* separaci√≥n texto/contador */
    white-space: normal;              /* permite salto de l√≠nea */
    word-break: break-word;           /* evita desbordes largos */
  }
  .collection-title::after{
    margin-left: auto;                /* chevron fijo a la derecha */
  }
  .collection-title small{
    font-size: 12px; opacity: .7;
  }

  /* el grid dentro de la colecci√≥n ya se centra con tus reglas;
     solo afinamos el gap a un pel√≠n menor si quieres */
  .collection .grid{ gap: 16px; margin-top: 8px; }

  .drawer .qty{ gap:6px; }
  .drawer .qty .chip{ min-width: 38px; min-height: 32px; padding:6px 9px; }
  .drawer .qty .clear.sm{ padding:6px 9px; }

  /* Coloca los botones en columna y a ancho completo */
  .drawer footer .row.gap{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;                /* coherente con tus gaps m√≥viles */
  }

  /* Bot√≥n "Vaciar" con estilo de filtros */
  .drawer footer .clear{
    width: 100%;
    min-height: 44px;         /* √°rea t√°ctil recomendada */
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,.1);
    background: transparent;
    font-weight: 800;
  }
  :host.dark .drawer footer .clear{
    border-color: rgba(255,255,255,.12);
  }

  /* Bot√≥n "Checkout" (primario amarillo) */
  .drawer footer .apply{
    width: 100%;
    min-height: 44px;
    padding: 10px 12px;
    border: none;
    border-radius: 12px;
    background: #facc15;
    color: #000;
    font-weight: 900;
  }
  .drawer footer .apply[disabled]{ opacity:.6; cursor:not-allowed; }

  /* Compacta un pel√≠n los m√°rgenes del footer en m√≥vil */
  .drawer footer{
    padding: 10px;
  }
}

@media (max-width: 390px){
  .entry-banner{
    --bg-zoom: 200% auto;       /* m√°s zoom en pantallas muy estrechas */
    --bg-pos-y: 47%;            /* microajuste del encuadre */
  }
  .entry-bg{
    height: 100dvh;
    max-width: 100vw;
    object-fit: cover;      /* NO recorta */
    object-position: center;
  }
  @supports (height: 100svh){
    .entry-bg{ height: 100svh; }
  }

  .entry-banner .inner{ bottom: clamp(12px, 9vh, 40px); }
  .entry-banner .entry-cta{
    padding: 11px 14px;
    border-radius: 12px;
    font-size: 14px;
  }
  /* 1) Quita la columna fantasma: una sola columna en m√≥vil */
  .shop-layout{
    grid-template-columns: 1fr;
  }

  /* 2) Asegura que el cat√°logo ocupa toda la rejilla */
  .shop-layout .catalog{
    grid-column: 1 / -1;
  }

  /* 3) Restaura el centrado del grid dentro del contenedor */
  .shop-layout .catalog .grid{
    margin: 0 auto;     /* ‚Üê vuelve a centrar el grid */
    max-width: 100%;    /* o pon un clamp si quieres limitar el ancho */
    /* gap ya lo fijas a 20px arriba; mantenlo si te gusta */
  }
  /* 1) Mostrar el bot√≥n en m√≥vil */
  .shop .filters-toggle{
    display: inline-flex;          /* antes estaba en display:none */
    align-items: center;
    justify-content: center;
  }

  /* 2) Evitar que las tags se ‚Äúcoman‚Äù el espacio del bot√≥n */
  .right-actions{
    flex-wrap: wrap;               /* permite que el bot√≥n salte de l√≠nea si hace falta */
    gap: 10px;
  }

  /* Opci√≥n A (recomendada): ocultar tags en m√≥vil para dar aire */
  .tags{ display: none; }
  
  .logo-img{ width:32px; height:32px; }
  .brand-text{ font-size: 13px; max-width: 26vw; }
  .about{
    padding: 12px 0 20px;          /* a√∫n m√°s recogido */
  }
  .about .about-hero h1{ font-size: 22px; }
  .about .about-hero p{ font-size: 15px; }
  .about-grid{
    gap: 20px;                     /* seguimos con 20px entre bloques */
  }
  .about-header h2{ font-size: 22px; }
  .about-header p{ font-size: 15px; }
  .contact-card{ padding: 10px 12px; }
  .icon{ width: 20px; height: 20px; }
  .about-media img{
    width: 100%;
    max-width: 360px;              /* evita que ‚Äúempuje‚Äù en m√≥viles muy estrechos */
    border-radius: var(--radius);
  }
  .meta .sizes-row, .meta .colors-row{ gap: 6px; }
  .meta .sizes-row button, .meta .colors-row button{
    padding: 9px 10px;
    border-radius: 9px;
  }
  /* Color swatch un pel√≠n mayor en m√≥viles muy estrechos */
  .meta .colors-row .swatch{
    width: 18px; height: 18px;
  }

  .collection{ margin: 10px 0 16px; }

  .collection-title{
    padding: 9px 10px;
    border-radius: 10px;
    font-size: 20px;
  }
  /* si vas muy justo de espacio, oculta el contador */
  /* .collection-title small{ display:none; } */
  .collection .grid{ gap: 14px; }

  .drawer .qty{ gap:6px; }

  .drawer .qty .chip{
    min-width: 36px;
    min-height: 30px;
    padding: 5px 8px;
    border-radius: 10px;
    font-weight: 800;
  }

  .drawer .qty .qty-num{
    min-width: 24px;
    font-size: 14px;
    font-weight: 900;
  }

  .drawer .qty .clear.sm{
    padding: 6px 8px;
    border-radius: 10px;
    font-size: 12px;
  }

  .drawer footer .clear{
    padding: 8px 10px;
    border-radius: 10px;
    font-size: 13px;
  }

  .drawer footer .apply{
    padding: 8px 10px;
    border-radius: 10px;
    font-size: 13px;
  }

  .drawer footer .row.gap{ gap: 8px; }

  /* opcional: compactar cabecera y miniaturas del item */
  .drawer header{ padding: 10px; }
  .drawer .content{ padding: 10px; }
  .drawer .item img{ width: 56px; height: 56px; border-radius: 10px; }
}
